generator client {
  provider = "prisma-client-js"
  output   = "./node_modules/.prisma/client"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                 String         @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name               String
  email              String         @unique
  password           String
  fitnessGoal        String?
  dietaryPreferences String[]
  createdAt          DateTime       @default(now())
  updatedAt          DateTime       @updatedAt
  physicalStats      Json?
  preferences        Json?
  version            Int            @default(0) @map("_v")
  conversations      Conversation[]
}

model Conversation {
  id       String @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  messages Json?  @map("conversation")
  userId   String @db.Uuid
  user     User   @relation(fields: [userId], references: [id], onDelete: SetNull)
}
